# news2wallpaper

news2wallpaper is a GitHub project that fetches the latest news headlines from tagesschau and generates images for the headlines using the stable-diffusion algorithm. The entire application is containerized using Docker and utilizes Flask as the web server to display the news headlines as dynamic wallpapers.

## How It Works

The project consists of two main files: `main.py` and `app.py`, along with an HTML template file for rendering the news headlines on the web page.

- `main.py`: This script is responsible for fetching the latest news from the tagesschau API, translating the headlines from German to English, generating images using the stable-diffusion algorithm, and saving the results in the `static/images` directory.

- `app.py`: This is the Flask web application that serves the dynamic wallpapers. It reads the news headlines and images generated by `main.py` and displays them on a web page. The web page automatically updates the displayed headline every 6 seconds.

## Requirements

To run the news2wallpaper application, you need to have the following installed:

- Docker

## Getting Started

Follow these steps to set up and run the news2wallpaper application:

1. Clone the repository from GitHub:

   ```bash
   git clone https://github.com/your_username/news2wallpaper.git
   cd news2wallpaper
   ```

2. Build the Docker image:

   ```bash
   docker build -t your_image_name .
   ```

3. Run the Docker container:

   ```bash
   docker run -p 5000:5000 -v /path/to/your/static/images:/app/static/images your_image_name flask run --host=0.0.0.0 --port=5000
   ```

4. Open your web browser and go to `http://localhost:5000` to see the dynamic wallpapers with the latest news headlines.

Please note that you may need to replace `your_image_name` with the desired name for your Docker image.

## Code Explanation

### `main.py`

- This script uses the `webuiapi` library to access the stable-diffusion algorithm for text-to-image generation.
- The `genImage` function takes an article and an output path as input, generates an image using the stable-diffusion algorithm, and saves it to the specified output path.
- The `get_articles` function fetches the latest news from the tagesschau API and saves the data in a JSON file. If the data already exists, it reads from the file instead of making a new API call.
- The `translate_headlines` function translates the German headlines to English using the `argostranslate` library.
- The `create_today_images` function fetches the news, translates the headlines, generates images for each headline, and saves the information in JSON files for use by the web application.

### `app.py`

- This is the Flask web application that serves the dynamic wallpapers.
- The `load_data` function reads the news headlines and image paths from the JSON file generated by `main.py`.
- The `/` route renders the `news.html` template.
- The `/get_news_data` route returns the current news item (headline and image path) and the index of the next news item to be displayed on the web page.

### `templates/news.html`

- This HTML template file contains the layout for displaying the dynamic wallpapers and headlines.
- JavaScript code in the template uses AJAX to fetch new news items every 6 seconds and update the displayed headline and image.

## Acknowledgments

The news2wallpaper project utilizes the stable-diffusion algorithm provided by the `webuiapi` library for text-to-image generation. Additionally, it uses the Flask web framework for serving the dynamic wallpapers on the web page.

## Disclaimer

This project was created for educational purposes and should be used responsibly and in compliance with any legal restrictions regarding content usage from external sources. The project's author takes no responsibility for any misuse of the application or violation of third-party terms and conditions.